<!doctype html>
<html lang="en-US">
<head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
</head>
<body>
<canvas id="canvas" width="1000" height="800" style="display: block; margin: 0 auto"></canvas>
<script type="module">
    const w = 1000;
    const h = 800;
    const start = window.performance.now()
    let canvas = document.querySelector('canvas');
    let ctx = canvas.getContext('2d');
    const pts = [{x: w / 2, y: 0}, {x: 0, y: h}, {x: w, y: h}]
    let p = {x: Math.random() * w , y: Math.random() * h}
    let cnt = 10_000_000;
    while (cnt > 0) {
        cnt -= 1
        const num = Math.floor(Math.random() * 3.0);
        p.x = (p.x + pts[num].x) / 2;
        p.y = (p.y + pts[num].y) / 2;
        ctx.fillRect(p.x, p.y, 1.0, 1.0);
    }
    const duration = window.performance.now() - start
    console.log(`Elapsed time:  ${duration} milliseconds.`)
</script>
</body>
</html>